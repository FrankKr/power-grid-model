# SPDX-FileCopyrightText: 2022 Contributors to the Power Grid Model project <dynamic.grid.calculation@alliander.com>
#
# SPDX-License-Identifier: MPL-2.0

version: 2

# Build from the docs/ directory with Sphinx
sphinx:
  configuration: docs/conf.py

# Explicitly set the version of Python and its requirements
python:
  install:
    - method: pip
      path: .
      extra_requirements:
        - docs

# Extra jobs: Install package, Check for broken links
build:
  os: "ubuntu-20.04"
  tools:
    python: "3.10"
  jobs:
    post_install:
      - pip install -e .
    pre_build:
      - python -m sphinx -b linkcheck docs/ _build/linkcheck